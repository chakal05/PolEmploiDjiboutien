(this.webpackJsonpdjib_pol_emploi=this.webpackJsonpdjib_pol_emploi||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(10),c=a.n(r),i=a(30),o=a(17),s=(a(90),a(160)),u=a(39),m=a(72),d=a(58),p=[],E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RETRIEVE_RESULTS":return Object(d.a)(t.results);default:return e}},b=a(41),f={text:"",jobType:"",published:[],city:""},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SORT_BY_TEXT":return Object(b.a)({},e,{text:t.text});case"SORT_BY_JOBTYPE":return Object(b.a)({},e,{jobType:t.jobType});case"SORT_BY_PUBLISHED_DAY":return Object(b.a)({},e,{published:t.published});case"SORT_BY_CITY":return Object(b.a)({},e,{city:t.city});default:return e}},v=JSON.parse(localStorage.getItem("savedJobs"))||[],y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_JOB":return[].concat(Object(d.a)(e),[t.job]);case"REMOVE_JOB":return e.filter((function(e){return e.identifier!==t.job.identifier}));default:return e}},g=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,j=a(18),O=Object(j.a)(),S=a(35),T=a(21),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.jobType,a=void 0===t?"":t;return{type:"SORT_BY_JOBTYPE",jobType:a}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.published,a=void 0===t?[]:t;return{type:"SORT_BY_PUBLISHED_DAY",published:a}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.city,a=void 0===t?"":t;return{type:"SORT_BY_CITY",city:a}},D=a(76),P=a(163),L=a(151),R=a(147),C=(a(91),Object(o.b)()((function(e){var t=Object(n.useState)(""),a=Object(T.a)(t,2),r=a[0],c=a[1];return l.a.createElement("div",{className:"entetePage"},l.a.createElement(R.a,{container:!0,justify:"center",className:"blue"},l.a.createElement(R.a,{item:!0,xs:12,className:"title"},l.a.createElement("h1",null," ",e.title)),l.a.createElement(R.a,{item:!0,xs:10,className:"searchInput"},l.a.createElement(D.a,{component:"form",className:"paper",onSubmit:function(t){t.preventDefault(),e.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text,a=void 0===t?"":t;return{type:"SORT_BY_TEXT",text:a}}({text:r})),e.onSubmit()}},l.a.createElement(P.a,{className:"input",placeholder:"S\xf6k efter yrke eller stad",onChange:function(e){c(e.target.value)}}),l.a.createElement(L.a,{type:"submit",variant:"contained",className:"btnSearch"}," ","Sok"," ")))))}))),w=a(57);w.initializeApp({apiKey:"AIzaSyAHk7cRgtftDKrf_Z8eZAo4cjFsb0XJ2gE",authDomain:"expensify-2c9e2.firebaseapp.com",databaseURL:"https://expensify-2c9e2.firebaseio.com",projectId:"expensify-2c9e2",storageBucket:"expensify-2c9e2.appspot.com",messagingSenderId:"994745724382",appId:"1:994745724382:web:2ba71d6eced37c3ce9014f",measurementId:"G-W51K7MZW5M"});var J=w.database(),B=a(75),I=(a(103),function(e){return l.a.createElement(B.a,{className:"myButton",onClick:e.action}," ",e.text," ")}),k=a(152),A=a(155),Y=a(153),q=a(154),M=(a(104),Object(o.b)((function(e){return{results:e.results.slice(Math.max(e.results.length-4,0))}}))((function(e){var t=e.dispatch;return Object(n.useEffect)((function(){t((function(e){return J.ref("jobPostList").once("value").then((function(t){var a=[];t.forEach((function(e){a.push(Object(b.a)({identifier:e.key},e.val()))})),e(function(e){return{type:"RETRIEVE_RESULTS",results:e}}(a))}))}))}),[t]),l.a.createElement(i.a,null,l.a.createElement("div",{className:"landingPage"},l.a.createElement(C,{title:"S\xf6k",onSubmit:function(){e.history.push("/annonser")}}),l.a.createElement(R.a,{container:!0,justify:"center",className:"landingPageWrapper"},l.a.createElement(R.a,{item:!0,xs:12,className:"pageHeader"},l.a.createElement("h1",null," Sista inl\xe4ggen ")),l.a.createElement(R.a,{className:"cardContainer",item:!0,xs:12},l.a.createElement(R.a,{container:!0,justify:"center",spacing:2},e.results.map((function(e){return l.a.createElement(R.a,{key:e.identifier,className:"jobPostCard",item:!0},l.a.createElement(D.a,null,l.a.createElement(k.a,{variant:"outlined"},l.a.createElement(Y.a,null,l.a.createElement(q.a,{color:"textSecondary",gutterBottom:!0},"Ny"),l.a.createElement(q.a,{variant:"h5",component:"h2"},e.jobPositionTitle.title),l.a.createElement(q.a,{color:"textSecondary"},"".concat(e.hiringOrg.name," - ").concat(e.jobPositionLocation.city)),l.a.createElement(q.a,{variant:"body2",component:"p"},"Start datum: ".concat(e.postDetail.startDate)),l.a.createElement(q.a,{variant:"body2",component:"p"},"Published: ".concat(e.postDetail.published))),l.a.createElement(A.a,null,l.a.createElement(S.a,{to:"/annonser/".concat(e.identifier)},l.a.createElement(I,{text:"L\xe4s mer"}))))))})))),l.a.createElement(R.a,{item:!0,xs:12,className:"pageHeader"},!e.results[0]&&l.a.createElement("h2",null,"Loading ...")))))}))),H=a(46),U=a.n(H),W=a(49),K=function(e){return{type:"ADD_JOB",job:e}},V=Object(o.b)()((function(e){return l.a.createElement(l.a.Fragment,null,e.results.map((function(t){return l.a.createElement(R.a,{key:t.identifier,item:!0},l.a.createElement(D.a,null,l.a.createElement(k.a,{variant:"outlined"},l.a.createElement(Y.a,null,l.a.createElement(q.a,{className:"jobTitle",variant:"h5",component:"h2"},t.jobPositionTitle.title),l.a.createElement(q.a,{className:"pos",color:"textSecondary"},t.hiringOrg.name," -"," ",t.jobPositionLocation.city),l.a.createElement(q.a,{component:"h5"},t.jobPositionTitle.title),l.a.createElement(q.a,{component:"p"}," Duration: ".concat(t.classification.duration)),l.a.createElement(q.a,{variant:"body2",component:"p"},"Published: ".concat(U()(t.postDetail.published).format("MMM Do YYYY")))),l.a.createElement(A.a,null,l.a.createElement(S.a,{to:"/annonser/".concat(t.identifier)},l.a.createElement(I,{text:"L\xe4s mer"})),l.a.createElement(I,{text:e.text,action:function(){var a=JSON.parse(localStorage.getItem("savedJobs"));if("Radera"===e.text){var n=a;e.dispatch({type:"REMOVE_JOB",job:{identifier:t.identifier}}),n.splice(t,1),localStorage.setItem("savedJobs",JSON.stringify(n))}if("Spara"===e.text){if(0!==a.filter((function(e){return e.identifier===t.identifier})).length)return alert("Redan sparade");var l=a;e.dispatch(K(t)),l.push(t),localStorage.setItem("savedJobs",JSON.stringify(l))}}})))))})))})),F=Object(o.b)((function(e){return{saved:e.saved}}))((function(e){var t=l.a.useState(!1),a=Object(T.a)(t,2),n=a[0],r=a[1];return l.a.createElement("div",null,l.a.createElement(I,{text:"".concat(e.saved.length," sparade"),action:function(){return e.saved[0]?r(!0):""}}),l.a.createElement(W.a,{show:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(W.a.Header,null,l.a.createElement(W.a.Title,{id:"contained-modal-title-vcenter"},"Sparade")),l.a.createElement(W.a.Body,null,l.a.createElement(V,{results:e.saved,text:"Radera"}),!e.saved[0]&&l.a.createElement("i",null,l.a.createElement("h5",{style:{textAlign:"center"}}," ","Inga sparade annonser"," "))),l.a.createElement(W.a.Footer,null,l.a.createElement(I,{text:"St\xe4ng",action:function(){r(!1)}}))))})),X=function(e,t){var a=t.text,n=t.jobType,l=t.published,r=t.city;return e.filter((function(e){var t=e.jobPositionLocation.city.toLowerCase().includes(a.toLowerCase()),c=e.jobPositionTitle.title.toLowerCase().includes(a.toLowerCase())||t,i=e.classification.extent.match(n),o=Object(T.a)(l,2),s=o[0],u=o[1],m=e.jobPositionLocation.city.toLowerCase().match(r.toLowerCase()),d=function(){switch(u){case"all":return e;case"today":return e.postDetail.published.match(s);case"last_7_days":case"last_30_days":return new Date(e.postDetail.published).getTime()>=new Date(s).getTime()}};return a?n?c&&i:s?c&&d():r?c&&m:n&&s?c&&i&&d():s&&n&&r?c&&i&&d()&&m:c:n?s?i&&d():a?c&&i:r?i&&m:s&&a?i&&c&&d():s&&a&&r?c&&i&&m&&d():i:s?a?c&&d():n?i&&d():r?d()&&m:a&&n?c&&i&&d():a&&n&&r?c&&i&&m&&d():d():r?a?c&&m:n?i&&m:s?m&&d():a&&n?c&&i&&m:a&&n&&s?c&&i&&d()&&m:m:void 0})).sort((function(e,t){return new Date(e.postDetail.published)<new Date(t.postDetail.published)?1:-1}))},z=a(156),Z=a(157),G=a(164),Q=a(162),$=a(165),ee=Object(z.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:123}}})),te=function(e){var t=ee(),a=l.a.useState(!1),n=Object(T.a)(a,2),r=n[0],c=n[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(Z.a,{className:t.formControl},l.a.createElement(G.a,{id:"demo-controlled-open-select-label"},e.title),l.a.createElement(Q.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:r,onClose:function(){c(!1)},onOpen:function(){c(!0)},value:e.value,onChange:e.handleChange},e.options.map((function(e,t){return l.a.createElement($.a,{key:t,value:e}," ",e," ")})))))},ae=(a(107),Object(o.b)((function(e){return{results:X(e.results,e.filter)}}))((function(e){var t=Object(n.useState)(""),a=Object(T.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(""),o=Object(T.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)(""),d=Object(T.a)(m,2),p=d[0],E=d[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(C,{title:"Hittade: ".concat(e.results.length),onSubmit:function(){}}),l.a.createElement(R.a,{container:!0,justify:"center",className:"annonsWrapper"},l.a.createElement(R.a,{item:!0,xs:12},l.a.createElement(R.a,{container:!0,justify:"center",className:"dropdownContainer"},l.a.createElement(R.a,{item:!0,className:"dropdown"},l.a.createElement(te,{title:"Stad",value:r,handleChange:function(t){console.log(t.target.value),c(t.target.value),"All"===t.target.value?e.dispatch(_({city:""})):e.dispatch(_({city:t.target.value}))},options:["All","Ume\xe5","G\xe4vle","Stockholm","Trollh\xe4ttan"]})),l.a.createElement(R.a,{className:"dropdown"},l.a.createElement(te,{title:"Omfattning",value:s,handleChange:function(t){u(t.target.value),"All"===t.target.value?e.dispatch(N({jobType:""})):e.dispatch(N({jobType:t.target.value}))},options:["All","Heltid","Deltid"]})),l.a.createElement(R.a,{className:"dropdown"},l.a.createElement(te,{title:"Publicerad",value:p,handleChange:function(t){if(E(t.target.value),"Today"===t.target.value){var a=U()().format().substr(0,10);e.dispatch(x({published:[a,"today"]}))}else if("Last 7 days"===t.target.value){var n=U()().subtract(7,"days").format().substr(0,10);e.dispatch(x({published:[n,"last_7_days"]}))}else if("Last 30 days"===t.target.value){var l=U()().subtract(30,"days").format().substr(0,10);e.dispatch(x({published:[l,"last_30_days"]}))}else"All"===t.target.value&&e.dispatch(x({published:["","all"]}))},options:["All","Today","Last 7 days","Last 30 days"]})))),l.a.createElement(R.a,{item:!0,xs:12,className:"savedJob"},l.a.createElement(F,null)),l.a.createElement(R.a,{item:!0,xs:12},l.a.createElement(V,{results:e.results,text:"Spara"}))))}))),ne=(a(108),Object(o.b)((function(e,t){return{result:e.results.find((function(e){return e.identifier===t.match.params.id}))}}))((function(e){return l.a.createElement("div",{className:"jobPostPage"},l.a.createElement("div",{className:"btnContainer"},l.a.createElement("div",{className:"back"},l.a.createElement(I,{text:"Till resultaten",action:function(){e.history.push("/annonser")}})),l.a.createElement("div",{className:"savedJobs"},l.a.createElement(F,null))),l.a.createElement("div",{className:"jobPostWrapper"},l.a.createElement(D.a,null,l.a.createElement(k.a,{variant:"outlined"},l.a.createElement(Y.a,null,l.a.createElement(q.a,{variant:"h4",component:"h3",className:"boldTitle"},e.result.jobPositionTitle.title),l.a.createElement(q.a,{variant:"h4",component:"h3"},e.result.hiringOrg.name),l.a.createElement(q.a,{variant:"h5",component:"h2"},e.result.jobPositionTitle.title),l.a.createElement(q.a,{style:{margin:"3px"}},"Kommun: ".concat(e.result.jobPositionLocation.city)),l.a.createElement(q.a,{style:{margin:"3px"}},"Varaktighet: ".concat(e.result.classification.duration)),l.a.createElement(q.a,null,"Anst\xe4llningsform: ".concat(e.result.classification.TypeOfEmployment)),l.a.createElement(D.a,{className:"elevatedCard",elevation:3},l.a.createElement(k.a,null,l.a.createElement(Y.a,null,l.a.createElement("div",null,l.a.createElement("h2",{className:"boldTitle"}," ","Kvalifikationer"," "),e.result.qualificationsRequiredSummary.education&&l.a.createElement(q.a,null,"- ".concat(e.result.qualificationsRequiredSummary.education)," "),e.result.qualificationsRequiredSummary.hasExperience.type&&l.a.createElement(q.a,null,"- ".concat(e.result.qualificationsRequiredSummary.hasExperience.type)),e.result.qualificationsRequiredSummary.hasDriverLicence.category&&l.a.createElement(q.a,null," - Driver licence: ".concat(e.result.qualificationsRequiredSummary.hasDriverLicence.category||"ingen")))))),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h2",{className:"boldTitle"},"Om jobbet :"),l.a.createElement("p",{className:"description"}," ",e.result.jobPositionPurpose.purpose," ")),l.a.createElement("div",null,l.a.createElement("h2",{className:"boldTitle"}," ","Om anst\xe4llningen :"," "),"L\xf6n: ".concat(e.result.compensation.salaryType)),l.a.createElement("div",null,l.a.createElement("h2",{className:"boldTitle"}," Adress : "),e.result.hiringOrgContact.addressLine),l.a.createElement("div",null,l.a.createElement("h2",{className:"boldTitle"},"Publicerat: "),e.result.postDetail.published))),l.a.createElement(A.a,null,l.a.createElement(I,{text:"Spara",action:function(){var t=JSON.parse(localStorage.getItem("savedJobs"));if(0!==t.filter((function(t){return t.identifier===e.result.identifier})).length)return alert("Redan sparade");var a=t;e.dispatch(K(e.result)),a.push(e.result),localStorage.setItem("savedJobs",JSON.stringify(a))}}))))),");")}))),le=a(158),re=a(159);a(109);function ce(){return l.a.createElement(le.a,{className:"AppBar",position:"static",elevation:0},l.a.createElement(re.a,null,l.a.createElement(S.b,{to:"/",className:"link"},"KerJa")))}var ie=a(161),oe=(a(110),Object(u.e)(Object(u.c)({results:E,filter:h,saved:y}),g(Object(u.a)(m.a))));function se(){return l.a.createElement(o.a,{store:oe},l.a.createElement(s.a,null),l.a.createElement(ie.a,{maxWidth:"lg"},l.a.createElement(i.b,{history:O},l.a.createElement(ce,null),l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/",exact:!0,component:M}),l.a.createElement(i.a,{exact:!0,path:"/annonser",component:ae}),l.a.createElement(i.a,{path:"/annonser/:id",component:ne})))))}c.a.render(l.a.createElement(se,null),document.getElementById("root"))},81:function(e,t,a){e.exports=a(111)},91:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.5579beac.chunk.js.map